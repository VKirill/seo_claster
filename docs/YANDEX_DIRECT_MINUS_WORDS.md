# –ú–∏–Ω—É—Å-—Å–ª–æ–≤–∞ –¥–ª—è Yandex Direct API

## üìã –û–ø–∏—Å–∞–Ω–∏–µ

–§–∞–π–ª `yandex_direct_minus_words.txt` —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–ø–∏—Å–æ–∫ –º–∏–Ω—É—Å-—Å–ª–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –≤–æ –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã –ø—Ä–æ–≥–Ω–æ–∑–∞ –±—é–¥–∂–µ—Ç–∞ –∫ Yandex Direct API.

**–ó–∞—á–µ–º —ç—Ç–æ –Ω—É–∂–Ω–æ:**
- –ò—Å–∫–ª—é—á–∏—Ç—å –Ω–µ—Ü–µ–ª–µ–≤–æ–π —Ç—Ä–∞—Ñ–∏–∫ (–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã, –≤–∞–∫–∞–Ω—Å–∏–∏, —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏—è)
- –ü–æ–ª—É—á–∏—Ç—å –±–æ–ª–µ–µ —Ç–æ—á–Ω—ã–µ –ø—Ä–æ–≥–Ω–æ–∑—ã CPC –∏ –±—é–¥–∂–µ—Ç–∞
- –ù–µ –ø–ª–∞—Ç–∏—Ç—å –∑–∞ –∫–ª–∏–∫–∏ –ø–æ –Ω–µ–ø–æ–¥—Ö–æ–¥—è—â–∏–º –∑–∞–ø—Ä–æ—Å–∞–º

## üìÅ –§–∞–π–ª –º–∏–Ω—É—Å-—Å–ª–æ–≤

**–ü—É—Ç—å:** `yandex_direct_minus_words.txt` (–≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞)

**–§–æ—Ä–º–∞—Ç:**
```txt
# –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è —Å #
# –ü—É—Å—Ç—ã–µ —Å—Ç—Ä–æ–∫–∏ –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è

–º–∏–Ω—É—Å_—Å–ª–æ–≤–æ_1
–º–∏–Ω—É—Å_—Å–ª–æ–≤–æ_2
–º–∏–Ω—É—Å_—Å–ª–æ–≤–æ_3

# –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–ø–µ—Ü—Å–∏–º–≤–æ–ª—ã Direct
!–± !—É
–∫—Ä–µ–∫
–±–µ—Å–ø–ª–∞—Ç–Ω–æ
```

## üéØ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### 1. –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –∞–Ω–∞–ª–∏–∑–∞

```python
# –í pipeline/stages/yandex_direct_enricher.py
integrator = YandexDirectIntegrator(
    token=token,
    geo_id=213,
    minus_words_file="yandex_direct_minus_words.txt"  # ‚Üê –§–∞–π–ª –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è
)
```

### 2. –ü—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ –∫ Direct API

```python
# –í seo_analyzer/analysis/yandex_direct_client.py
params = {
    "Phrases": ["–∫—É–ø–∏—Ç—å —Ö–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫"],
    "GeoID": [213],
    "Currency": "RUB",
    "AuctionBids": "Yes",
    "CommonMinusWords": [  # ‚Üê –ú–∏–Ω—É—Å-—Å–ª–æ–≤–∞ –∏–∑ —Ñ–∞–π–ª–∞
        "–±–µ—Å–ø–ª–∞—Ç–Ω–æ",
        "–∞—Ä–µ–Ω–¥–∞",
        "–æ—Ç–∑—ã–≤—ã",
        # ... –≤—Å–µ –∏–∑ —Ñ–∞–π–ª–∞
    ]
}
```

### 3. –†–µ–∑—É–ª—å—Ç–∞—Ç

Direct API –≤–µ—Ä–Ω—ë—Ç –ø—Ä–æ–≥–Ω–æ–∑ **–ë–ï–ó —É—á—ë—Ç–∞** –∑–∞–ø—Ä–æ—Å–æ–≤ —Å–æ–¥–µ—Ä–∂–∞—â–∏—Ö –º–∏–Ω—É—Å-—Å–ª–æ–≤–∞:
- "–∫—É–ø–∏—Ç—å —Ö–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫" ‚úÖ
- "–∫—É–ø–∏—Ç—å —Ö–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫ –æ—Ç–∑—ã–≤—ã" ‚ùå (–∏—Å–∫–ª—é—á–µ–Ω–æ)
- "–∫—É–ø–∏—Ç—å —Ö–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫ –±–µ—Å–ø–ª–∞—Ç–Ω–æ" ‚ùå (–∏—Å–∫–ª—é—á–µ–Ω–æ)

## ‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–∏–Ω—É—Å-—Å–ª–æ–≤

### –î–æ–±–∞–≤–∏—Ç—å —Å–≤–æ–∏ –º–∏–Ω—É—Å-—Å–ª–æ–≤–∞

–û—Ç–∫—Ä–æ–π—Ç–µ `yandex_direct_minus_words.txt` –∏ –¥–æ–±–∞–≤—å—Ç–µ:

```txt
# –ú–æ–∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–∏–Ω—É—Å-—Å–ª–æ–≤–∞
–æ–ø—Ç
–æ–ø—Ç–æ–º
–º–µ–ª–∫–∏–π_–æ–ø—Ç
–¥—Ä–æ–ø—à–∏–ø–ø–∏–Ω–≥
```

### –£–¥–∞–ª–∏—Ç—å –Ω–µ–Ω—É–∂–Ω—ã–µ

–ü—Ä–æ—Å—Ç–æ —É–¥–∞–ª–∏—Ç–µ —Å—Ç—Ä–æ–∫—É –∏–ª–∏ –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ:

```txt
# –±–µ—Å–ø–ª–∞—Ç–Ω–æ  ‚Üê –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–æ, –ù–ï –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è
```

### –û—Ç–∫–ª—é—á–∏—Ç—å –≤—Å–µ –º–∏–Ω—É—Å-—Å–ª–æ–≤–∞

**–í–∞—Ä–∏–∞–Ω—Ç 1:** –û—á–∏—Å—Ç–∏—Ç–µ —Ñ–∞–π–ª (–æ—Å—Ç–∞–≤—å—Ç–µ —Ç–æ–ª—å–∫–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏)

```txt
# –í—Å–µ –º–∏–Ω—É—Å-—Å–ª–æ–≤–∞ –æ—Ç–∫–ª—é—á–µ–Ω—ã
# –§–∞–π–ª –ø—É—Å—Ç
```

**–í–∞—Ä–∏–∞–Ω—Ç 2:** –ü–µ—Ä–µ–∏–º–µ–Ω—É–π—Ç–µ —Ñ–∞–π–ª

```bash
rename yandex_direct_minus_words.txt yandex_direct_minus_words.txt.backup
```

–ü—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ —Ñ–∞–π–ª–∞ –∏–ª–∏ –ø—É—Å—Ç–æ–º —Ñ–∞–π–ª–µ —É–≤–∏–¥–∏—Ç–µ:
```
‚ÑπÔ∏è  –ú–∏–Ω—É—Å-—Å–ª–æ–≤–∞ –¥–ª—è Direct –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è (—Ñ–∞–π–ª –ø—É—Å—Ç –∏–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω)
```

## üìä –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –º–∏–Ω—É—Å-—Å–ª–æ–≤

### –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤–∫–ª—é—á–µ–Ω—ã:

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –ü—Ä–∏–º–µ—Ä—ã | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ |
|-----------|---------|------------|
| –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ | –æ—Ç–∑—ã–≤—ã, –æ–ø–∏—Å–∞–Ω–∏–µ, —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ | ~80 |
| –û–±—É—á–µ–Ω–∏–µ | –∫—É—Ä—Å–æ–≤–∞—è, —Ä–µ—Ñ–µ—Ä–∞—Ç, —É—á–µ–±–Ω–∏–∫ | ~40 |
| –†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è | –≤–∏–¥–µ–æ, —Ñ–æ—Ç–æ, youtube | ~30 |
| –í–∞–∫–∞–Ω—Å–∏–∏ | —Ä–∞–±–æ—Ç–∞, —Ä–µ–∑—é–º–µ, –∑–∞—Ä–ø–ª–∞—Ç–∞ | ~10 |
| –ü–∏—Ä–∞—Ç—Å—Ç–≤–æ | –∫—Ä–µ–∫, crack, —Å–∫–∞—á–∞—Ç—å | ~10 |
| –í–∑—Ä–æ—Å–ª—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç | porn, sex, —ç—Ä–æ—Ç–∏–∫–∞ | ~6 |
| –†–µ–º–æ–Ω—Ç | —Ä–µ–º–æ–Ω—Ç, –ø–æ—á–∏–Ω–∏—Ç—å, —Å–¥–µ–ª–∞—Ç—å —Å–≤–æ–∏–º–∏ —Ä—É–∫–∞–º–∏ | ~40 |

**–í—Å–µ–≥–æ:** ~230 –º–∏–Ω—É—Å-—Å–ª–æ–≤

### –°–ø–µ—Ü—Å–∏–º–≤–æ–ª—ã Direct

```txt
!–± !—É          # –ò—Å–∫–ª—é—á–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å–æ—á–µ—Ç–∞–Ω–∏–µ "–± —É" (—á–µ—Ä–µ–∑ –ø—Ä–æ–±–µ–ª)
!–≥–¥–µ           # –ò—Å–∫–ª—é—á–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å–ª–æ–≤–æ "–≥–¥–µ" —Ü–µ–ª–∏–∫–æ–º
–±–µ—Å–ø–ª–∞—Ç–Ω–æ      # –ò—Å–∫–ª—é—á–∞–µ—Ç –ª—é–±—ã–µ —Ñ–æ—Ä–º—ã —Å–ª–æ–≤–∞
```

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –Ω–∏—à

### –î–ª—è –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω–∞

```txt
# –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –º–∏–Ω—É—Å-—Å–ª–æ–≤–∞ (–æ—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å)

# –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –¥–ª—è –º–∞–≥–∞–∑–∏–Ω–∞:
–æ–ø—Ç
–æ–ø—Ç–æ–º
–º–µ–ª–∫–∏–π_–æ–ø—Ç
–ø–∞—Ä—Ç–∏—è
–¥—Ä–æ–ø—à–∏–ø–ø–∏–Ω–≥
–ø–æ—Å—Ç–∞–≤—â–∏–∫
```

### –î–ª—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —Å–∞–π—Ç–∞

```txt
# –£–±—Ä–∞—Ç—å –º–∏–Ω—É—Å-—Å–ª–æ–≤–∞ –ø—Ä–æ –æ–±—É—á–µ–Ω–∏–µ –∏ –∏–Ω—Ñ–æ
# (–∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–ª–∏ —É–¥–∞–ª–∏—Ç—å)

# –û—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ:
–ø–æ—Ä–Ω–æ
—Å–µ–∫—Å
–≤–∞–∫–∞–Ω—Å–∏–∏
—Ä–µ–º–æ–Ω—Ç
```

### –î–ª—è B2B

```txt
# –î–æ–±–∞–≤–∏—Ç—å –º–∏–Ω—É—Å-—Å–ª–æ–≤–∞ –¥–ª—è —Ä–æ–∑–Ω–∏—Ü—ã:
–Ω–µ–¥–æ—Ä–æ–≥–æ
–¥–µ—à–µ–≤–æ
–∞–∫—Ü–∏—è
—Ä–∞—Å–ø—Ä–æ–¥–∞–∂–∞
—Å–æ_—Å–∫–∏–¥–∫–æ–π
```

## üìà –í–ª–∏—è–Ω–∏–µ –Ω–∞ –ø—Ä–æ–≥–Ω–æ–∑

### –ë–µ–∑ –º–∏–Ω—É—Å-—Å–ª–æ–≤

```
–ó–∞–ø—Ä–æ—Å: "—Ö–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫"
–ü–æ–∫–∞–∑—ã: 150,000
CPC: 45 —Ä—É–±
–ö–ª–∏–∫–∏: 4,500
```

### –° –º–∏–Ω—É—Å-—Å–ª–æ–≤–∞–º–∏ (230 —Å–ª–æ–≤)

```
–ó–∞–ø—Ä–æ—Å: "—Ö–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫" -–æ—Ç–∑—ã–≤—ã -–±–µ—Å–ø–ª–∞—Ç–Ω–æ -–≤–∏–¥–µ–æ...
–ü–æ–∫–∞–∑—ã: 95,000  ‚Üê –ú–µ–Ω—å—à–µ
CPC: 58 —Ä—É–±    ‚Üê –í—ã—à–µ (–±–æ–ª–µ–µ —Ü–µ–ª–µ–≤–æ–π)
–ö–ª–∏–∫–∏: 2,800   ‚Üê –ú–µ–Ω—å—à–µ, –Ω–æ —Ü–µ–ª–µ–≤—ã–µ
```

**–ò—Ç–æ–≥:** 
- ‚úÖ –ë–æ–ª–µ–µ –≤—ã—Å–æ–∫–∏–π CPC (–∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–µ–µ)
- ‚úÖ –ú–µ–Ω—å—à–µ –Ω–µ—Ü–µ–ª–µ–≤—ã—Ö –∫–ª–∏–∫–æ–≤
- ‚úÖ –¢–æ—á–Ω–µ–µ –ø—Ä–æ–≥–Ω–æ–∑ –±—é–¥–∂–µ—Ç–∞

## ‚ö†Ô∏è –í–∞–∂–Ω–æ

### –ù–ï –¥–æ–±–∞–≤–ª—è–π—Ç–µ —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –º–∏–Ω—É—Å-—Å–ª–æ–≤

–ï—Å–ª–∏ –º–∏–Ω—É—Å-—Å–ª–æ–≤ >500, Direct –º–æ–∂–µ—Ç:
- –û—Ç–∫–ª–æ–Ω–∏—Ç—å –∑–∞–ø—Ä–æ—Å
- –í–µ—Ä–Ω—É—Ç—å 0 –ø–æ–∫–∞–∑–æ–≤ (—Å–ª–∏—à–∫–æ–º —É–∑–∫–∞—è –≤—ã–±–æ—Ä–∫–∞)

### –ù–ï –∏—Å–∫–ª—é—á–∞–π—Ç–µ —Ü–µ–ª–µ–≤—ã–µ —Å–ª–æ–≤–∞

–ü—Ä–∏–º–µ—Ä—ã –ø–ª–æ—Ö–∏—Ö –º–∏–Ω—É—Å-—Å–ª–æ–≤ –¥–ª—è –º–∞–≥–∞–∑–∏–Ω–∞:
```txt
—Ü–µ–Ω–∞       ‚ùå (—ç—Ç–æ —Ü–µ–ª–µ–≤–æ–π –∑–∞–ø—Ä–æ—Å!)
–∫—É–ø–∏—Ç—å     ‚ùå (—ç—Ç–æ —Ü–µ–ª–µ–≤–æ–π –∑–∞–ø—Ä–æ—Å!)
–º–æ—Å–∫–≤–∞     ‚ùå (—ç—Ç–æ –≥–µ–æ!)
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–≥—Ä—É–∑–∫—É –º–∏–Ω—É—Å-—Å–ª–æ–≤

```bash
python test_yandex_direct_integration.py
```

–í –≤—ã–≤–æ–¥–µ —É–≤–∏–¥–∏—Ç–µ:
```
‚ÑπÔ∏è  –ó–∞–≥—Ä—É–∂–µ–Ω–æ –º–∏–Ω—É—Å-—Å–ª–æ–≤ –¥–ª—è Direct: 230
```

### –°—Ä–∞–≤–Ω–∏—Ç—å —Å/–±–µ–∑ –º–∏–Ω—É—Å-—Å–ª–æ–≤

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∞–Ω–∞–ª–∏–∑ —Å –º–∏–Ω—É—Å-—Å–ª–æ–≤–∞–º–∏:
```bash
python main.py semantika\—Å–∫—É–¥.csv
```

2. –ü–µ—Ä–µ–∏–º–µ–Ω—É–π—Ç–µ —Ñ–∞–π–ª:
```bash
rename yandex_direct_minus_words.txt yandex_direct_minus_words.txt.backup
```

3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –µ—â—ë —Ä–∞–∑:
```bash
python main.py semantika\—Å–∫—É–¥.csv
```

4. –°—Ä–∞–≤–Ω–∏—Ç–µ `direct_avg_cpc` –∏ `direct_shows` –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö

## üìù –®–∞–±–ª–æ–Ω—ã

### –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –Ω–∞–±–æ—Ä (–∞–≥—Ä–µ—Å—Å–∏–≤–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è)

```txt
–±–µ—Å–ø–ª–∞—Ç–Ω–æ
free
–≤–∞–∫–∞–Ω—Å–∏–∏
—Ä–∞–±–æ—Ç–∞
–ø–æ—Ä–Ω–æ
sex
```

### –°—Ä–µ–¥–Ω–∏–π –Ω–∞–±–æ—Ä (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–∞–π–ª –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (~230 —Å–ª–æ–≤)

### –ü–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä (–º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è)

–î–æ–±–∞–≤—å—Ç–µ –∫ –¥–µ—Ñ–æ–ª—Ç–Ω–æ–º—É:
```txt
–æ–ø—Ç
–¥–µ—à–µ–≤–æ
–¥–µ—à–µ–≤–ª–µ
–¥–µ—à–µ–≤—ã–π
–∞–∫—Ü–∏—è
—Ä–∞—Å–ø—Ä–æ–¥–∞–∂–∞
—Å–æ_—Å–∫–∏–¥–∫–æ–π
```

## üîó –°–º. —Ç–∞–∫–∂–µ

- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Direct API](https://yandex.ru/dev/direct/doc/dg-v4/reference/CreateNewForecast.html)
- [–°–ø–µ—Ü—Å–∏–º–≤–æ–ª—ã –º–∏–Ω—É—Å-—Å–ª–æ–≤](https://yandex.ru/support/direct/keywords/symbols-and-operators.html)
- `docs/YANDEX_DIRECT_QUICKSTART.md` - –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
- `docs/guides/YANDEX_DIRECT_INTEGRATION.md` - –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

---

**–£–ø—Ä–∞–≤–ª—è–π—Ç–µ –º–∏–Ω—É—Å-—Å–ª–æ–≤–∞–º–∏ –ª–µ–≥–∫–æ!** –ü—Ä–æ—Å—Ç–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª. üìù






