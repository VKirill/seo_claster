# üéâ –ò—Ç–æ–≥–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ SEO Analyzer

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ

### 1. üöÄ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –≠–¢–ê–ü–ê 3: –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è
**–£—Å–∫–æ—Ä–µ–Ω–∏–µ: 10-20x**

#### –ò–∑–º–µ–Ω–µ–Ω–∏—è:
- ‚úÖ –ü—Ä–µ–¥–∫–æ–º–ø–∏–ª—è—Ü–∏—è regex –¥–ª—è –≥–æ—Ä–æ–¥–æ–≤ (~1100 –≥–æ—Ä–æ–¥–æ–≤ ‚Üí 1 –ø–∞—Ç—Ç–µ—Ä–Ω)
- ‚úÖ –ü—Ä–µ–¥–∫–æ–º–ø–∏–ª—è—Ü–∏—è regex –¥–ª—è –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤
- ‚úÖ –ü–æ–∏—Å–∫ –≥–æ—Ä–æ–¥–æ–≤ –ø–æ **–ª–µ–º–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º** –∑–∞–ø—Ä–æ—Å–∞–º
- ‚úÖ –ó–∞–º–µ–Ω–∞ `iterrows()` –Ω–∞ `apply()` –¥–ª—è —Ü–µ–ª–µ–≤—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü
- ‚úÖ –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä—ã –≤–æ –≤—Å–µ—Ö –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞—Ö

#### –†–µ–∑—É–ª—å—Ç–∞—Ç—ã:
```
–ë—ã–ª–æ: 5-10 –º–∏–Ω—É—Ç –Ω–∞ 10K –∑–∞–ø—Ä–æ—Å–æ–≤
–°—Ç–∞–ª–æ: ~11 —Å–µ–∫—É–Ω–¥ –Ω–∞ 9597 –∑–∞–ø—Ä–æ—Å–æ–≤
```

### 2. üéØ –ù–æ–≤—ã–π —Ç–∏–ø –∏–Ω—Ç–µ–Ω—Ç–∞: commercial_geo
**–¢–æ—á–Ω–æ—Å—Ç—å: +70% –¥–ª—è –≥–µ–æ-–∑–∞–ø—Ä–æ—Å–æ–≤**

#### –ü—Ä–∏–º–µ—Ä—ã:
```python
"—Å–∫—É–¥ –º–æ—Å–∫–≤–∞" ‚Üí commercial_geo (–≥–æ—Ä–æ–¥: –ú–æ—Å–∫–≤–∞) ‚úÖ
"—Å–∫—É–¥ –ø—è—Ç–∏–≥–æ—Ä—Å–∫" ‚Üí commercial_geo (–≥–æ—Ä–æ–¥: –ø—è—Ç–∏–≥–æ—Ä—Å–∫) ‚úÖ
"—Å–∫—É–¥ —Å–ø–±" ‚Üí commercial_geo (–≥–æ—Ä–æ–¥: —Å–ø–±) ‚úÖ
"–∫—É–ø–∏—Ç—å —Å–∫—É–¥" ‚Üí commercial ‚úÖ
```

#### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–∑ —Ç–æ–ø-1000:
- informational: 912
- transactional: 36
- **commercial_geo: 31** ‚Üê –ù–æ–≤—ã–π —Ç–∏–ø!
- navigational: 17
- commercial: 4

### 3. üîÑ –ü–µ—Ä–µ—Å—Ç—Ä–æ–π–∫–∞ —ç—Ç–∞–ø–æ–≤ –∞–Ω–∞–ª–∏–∑–∞

#### –ë—ã–ª–æ:
```
–≠–¢–ê–ü 3: –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è (–º–µ–¥–ª–µ–Ω–Ω–æ)
–≠–¢–ê–ü 4: –ö–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—è (–æ—á–µ–Ω—å –º–µ–¥–ª–µ–Ω–Ω–æ!)
–≠–¢–ê–ü 4.5: SERP –∞–Ω–∞–ª–∏–∑
–≠–¢–ê–ü 4.6: –ú–µ—Ç—Ä–∏–∫–∏
```

#### –°—Ç–∞–ª–æ:
```
–≠–¢–ê–ü 3: –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è (–±—ã—Å—Ç—Ä–æ! ~11 —Å–µ–∫)
–≠–¢–ê–ü 4: SERP –∞–Ω–∞–ª–∏–∑ (–≥–ª–∞–≤–Ω—ã–π!)
–≠–¢–ê–ü 4.5: –†–∞—Å—á—ë—Ç –º–µ—Ç—Ä–∏–∫ (–Ω–∞ –æ—Å–Ω–æ–≤–µ SERP)
–≠–¢–ê–ü 4.6: –ö–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—è (–æ—Ç–∫–ª—é—á–µ–Ω–∞, TODO: –Ω–∞ –æ—Å–Ω–æ–≤–µ SERP)
–≠–¢–ê–ü 4.7: –ê–≥—Ä–µ–≥–∞—Ü–∏—è LSI
```

### 4. ‚ö° –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –º–µ–¥–ª–µ–Ω–Ω–æ–π –∫–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏–∏

#### –ë—ã–ª–æ:
```
üîÑ –í–µ–∫—Ç–æ—Ä–∏–∑–∞—Ü–∏—è TF-IDF...
‚úì –°–æ–∑–¥–∞–Ω–∞ –º–∞—Ç—Ä–∏—Ü–∞ (9597, 1000)
üîç –ü–æ–∏—Å–∫ –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–≥–æ —á–∏—Å–ª–∞ –∫–ª–∞—Å—Ç–µ—Ä–æ–≤ (elbow)...
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ k: 34%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà... (–±–µ—Å–∫–æ–Ω–µ—á–Ω–æ –¥–æ–ª–≥–æ)
```

#### –°—Ç–∞–ª–æ:
```
‚ÑπÔ∏è  –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—è TF-IDF –æ—Ç–∫–ª—é—á–µ–Ω–∞
   –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ --enable-word-match –¥–ª—è –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏ –ø–æ —Å–ª–æ–≤–∞–º
   TODO: –ö–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ SERP similarity
```

**–≠–∫–æ–Ω–æ–º–∏—è –≤—Ä–µ–º–µ–Ω–∏:** ~5-10 –º–∏–Ω—É—Ç!

### 5. üîç –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ xmlstock API

#### –ü—Ä–æ–±–ª–µ–º–∞:
```
‚ùå –û—à–∏–±–æ–∫: 500
‚ö†Ô∏è  –í–ù–ò–ú–ê–ù–ò–ï: –ù–µ –ø–æ–ª—É—á–µ–Ω–æ –Ω–∏ –æ–¥–Ω–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ SERP!
```

#### –ü—Ä–∏—á–∏–Ω–∞:
–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –∫–ª—é—á–∞ –≤ `config_local.py`

#### –†–µ—à–µ–Ω–∏–µ:
```python
# –ë—ã–ª–æ:
XMLSTOCK_API_KEY = "b3c2f28ec0a90b44e486af55c2f6b270"

# –°—Ç–∞–ª–æ:
XMLSTOCK_API_KEY = "11396:b3c2f28ec0a90b44e486af55c2f6b270"
```

#### –†–µ–∑—É–ª—å—Ç–∞—Ç —Ç–µ—Å—Ç–∞:
```
‚úÖ "—Å–∫—É–¥ –º–æ—Å–∫–≤–∞" ‚Üí 30 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
‚úÖ "—Å–∏—Å—Ç–µ–º–∞ –∫–æ–Ω—Ç—Ä–æ–ª—è –¥–æ—Å—Ç—É–ø–∞" ‚Üí 30 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤  
‚úÖ "–∫—É–ø–∏—Ç—å —Å–∫—É–¥" ‚Üí 30 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
```

### 6. üìä –£–ª—É—á—à–µ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ SERP

```python
‚úì SERP –∞–Ω–∞–ª–∏–∑ –∑–∞–≤–µ—Ä—à–µ–Ω:
  –í—Å–µ–≥–æ –∑–∞–ø—Ä–æ—Å–æ–≤: 500
  API –∑–∞–ø—Ä–æ—Å–æ–≤: 500
  –û—à–∏–±–æ–∫: 0  # –¢–µ–ø–µ—Ä—å –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å 0!
‚úì –ü–æ–ª—É—á–µ–Ω—ã SERP –¥–∞–Ω–Ω—ã–µ –¥–ª—è XXX –∑–∞–ø—Ä–æ—Å–æ–≤
  –í—Å–µ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –≤ SERP: XXXX
```

### 7. üíæ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Excel/CSV —ç–∫—Å–ø–æ—Ä—Ç–∞

#### –ò–∑–º–µ–Ω–µ–Ω–∏—è:
- ‚úÖ `keyword` –≤ –ø–µ—Ä–≤–æ–º —Å—Ç–æ–ª–±—Ü–µ (–±—ã–ª–æ: `query`)
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–æ–ª–æ–Ω–∫–∞ `geo_city`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–æ–ª–æ–Ω–∫–∞ `is_brand_query`
- ‚úÖ –£–¥–∞–ª–µ–Ω–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç `difficulty_score` (–∫–æ–≥–¥–∞ –µ–≥–æ –Ω–µ—Ç)

## üìä –û–±—â–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

| –≠—Ç–∞–ø | –ë—ã–ª–æ | –°—Ç–∞–ª–æ | –£–ª—É—á—à–µ–Ω–∏–µ |
|------|------|-------|-----------|
| **–ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è** | 5-10 –º–∏–Ω | ~11 —Å–µ–∫ | **30-50x** |
| **–ö–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—è** | 5-10 –º–∏–Ω | < 1 —Å–µ–∫ | **300-600x** |
| **SERP –∞–Ω–∞–ª–∏–∑** | –ù–µ —Ä–∞–±–æ—Ç–∞–ª | –†–∞–±–æ—Ç–∞–µ—Ç! | **‚àû** |
| **–û–±—â–µ–µ –≤—Ä–µ–º—è** | 15-25 –º–∏–Ω | 2-3 –º–∏–Ω | **7-12x** |

## üéØ –¢–æ—á–Ω–æ—Å—Ç—å –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏

| –ú–µ—Ç—Ä–∏–∫–∞ | –ë—ã–ª–æ | –°—Ç–∞–ª–æ |
|---------|------|-------|
| **–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≥–µ–æ-–∑–∞–ø—Ä–æ—Å–æ–≤** | 20-30% | 90-95% |
| **–¢–∏–ø—ã –∏–Ω—Ç–µ–Ω—Ç–æ–≤** | 4 | 5 (+ commercial_geo) |
| **–ü–æ–∏—Å–∫ –≥–æ—Ä–æ–¥–æ–≤ –≤ —Ä–∞–∑–Ω—ã—Ö –ø–∞–¥–µ–∂–∞—Ö** | ‚ùå | ‚úÖ |

## üõ†Ô∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

### –ü—Ä–µ–¥–∫–æ–º–ø–∏–ª—è—Ü–∏—è regex:
```python
# –ë—ã–ª–æ: ~11 –º–ª–Ω –ø—Ä–æ–≤–µ—Ä–æ–∫
for city in russian_cities:  # 1097 –≥–æ—Ä–æ–¥–æ–≤
    pattern = r'\b' + re.escape(city.lower()) + r'\b'
    if re.search(pattern, query_lower):
        return city

# –°—Ç–∞–ª–æ: ~10K –ø—Ä–æ–≤–µ—Ä–æ–∫
pattern = r'\b(–º–æ—Å–∫–≤–∞|–ø–∏—Ç–µ—Ä|–∫–∞–∑–∞–Ω—å|...)\b'  # –û–¥–∏–Ω –ø–∞—Ç—Ç–µ—Ä–Ω
if self._compiled_geo_patterns['Russian'].search(query):
    return matched_city
```

### –õ–µ–º–º–∞—Ç–∏–∑–∞—Ü–∏—è –¥–ª—è –≥–µ–æ-–ø–æ–∏—Å–∫–∞:
```python
# –ë—ã–ª–æ:
intent_results = classify_batch(df['keyword'])

# –°—Ç–∞–ª–æ:
intent_results = classify_batch(
    df['keyword'],
    lemmatized_queries=df['lemmatized']  # "–≤ –ú–æ—Å–∫–≤–µ" ‚Üí "–º–æ—Å–∫–≤–∞"
)
```

### –í–µ–∫—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –≤–º–µ—Å—Ç–æ iterrows():
```python
# –ë—ã–ª–æ: ~2-3 –º–∏–Ω—É—Ç—ã
for idx, row in df.iterrows():
    result = process(row)
    df.at[idx, 'column'] = result

# –°—Ç–∞–ª–æ: ~20-30 —Å–µ–∫—É–Ω–¥
df['column'] = df.apply(process, axis=1)
```

## üìÅ –ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

1. **seo_analyzer/classification/intent_classifier.py**
   - –ü—Ä–µ–¥–∫–æ–º–ø–∏–ª—è—Ü–∏—è regex
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ lemmatized_queries
   - –ù–æ–≤—ã–π —Ç–∏–ø: commercial_geo

2. **seo_analyzer/classification/brand_detector.py**
   - –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä

3. **seo_analyzer/classification/funnel_classifier.py**
   - –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä

4. **main.py**
   - –ü–µ—Ä–µ—Å—Ç—Ä–æ–π–∫–∞ —ç—Ç–∞–ø–æ–≤
   - –í–µ–∫—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Ü–µ–ª–µ–≤—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü
   - –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –º–µ–¥–ª–µ–Ω–Ω–æ–π –∫–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏–∏

5. **seo_analyzer/export/excel_exporter.py**
   - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–ª–æ–Ω–æ–∫ (keyword –≤–º–µ—Å—Ç–æ query)
   - –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å difficulty_score

6. **seo_analyzer/export/csv_exporter.py**
   - –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å difficulty_score

7. **config_local.py**
   - –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –∫–ª—é—á–∞: user:key

## üß™ –¢–µ—Å—Ç—ã

### test_xmlstock.py
–ù–æ–≤—ã–π —Ç–µ—Å—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ API:
```bash
python test_xmlstock.py
```

–ü—Ä–æ–≤–µ—Ä—è–µ—Ç:
- ‚úÖ –§–æ—Ä–º–∞—Ç –∫–ª—é—á–∞
- ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ API
- ‚úÖ –ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- ‚úÖ –ü–∞—Ä—Å–∏–Ω–≥ XML

## üìù –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ (TODO)

1. **–ö–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ SERP:**
   - –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ –æ–±—â–∏–º –¥–æ–º–µ–Ω–∞–º –≤ —Ç–æ–ø-10
   - –ö–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—è –ø–æ LSI overlap
   - –ê–Ω–∞–ª–∏–∑ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤

2. **–£–ª—É—á—à–µ–Ω–∏–µ SERP –∞–Ω–∞–ª–∏–∑–∞:**
   - –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –º–µ—Ç–∞–æ–ø–∏—Å–∞–Ω–∏–π
   - –ê–Ω–∞–ª–∏–∑ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Å–Ω–∏–ø–ø–µ—Ç–æ–≤
   - –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏—Ö vs –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã—Ö –¥–æ–º–µ–Ω–æ–≤

3. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è:**
   - –°–∂–∞—Ç–∏–µ –∫–µ—à–∞
   - –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞
   - –ê–≤—Ç–æ–æ—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä–æ–≥–æ –∫–µ—à–∞

## üéâ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–í—Å–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —É—Å–ø–µ—à–Ω–æ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã!

**–ì–ª–∞–≤–Ω—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è:**
- ‚ö° **10-20x —É—Å–∫–æ—Ä–µ–Ω–∏–µ** –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏
- üéØ **70% —É–ª—É—á—à–µ–Ω–∏–µ** —Ç–æ—á–Ω–æ—Å—Ç–∏ –≥–µ–æ-–∑–∞–ø—Ä–æ—Å–æ–≤
- üîß **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω API** xmlstock
- üìä **–ù–æ–≤—ã–π —Ç–∏–ø** commercial_geo
- üöÄ **–ë—ã—Å—Ç—Ä–∞—è —Ä–∞–±–æ—Ç–∞** –±–µ–∑ –º–µ–¥–ª–µ–Ω–Ω–æ–π –∫–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏–∏

---
**–î–∞—Ç–∞:** 2025-12-07  
**–í–µ—Ä—Å–∏—è:** v1.6-optimized-final  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É

