# Yandex Direct - ะะตัะฒัะน ะทะฐะฟััะบ

## ๐ฏ ะะฐัะต ะฟัะธะปะพะถะตะฝะธะต ัะถะต ะฝะฐัััะพะตะฝะพ!

ะฃ ะฒะฐั ะตััั:
- โ **Client ID:** `2bce30a579f546e8ae1f530379caddcd`
- โ **Client Secret:** `3aac3ee9bbfc4fa8afd1f1857f27f284`

ะััะฐะปะพัั ัะพะปัะบะพ ะฟะพะปััะธัั OAuth ัะพะบะตะฝ!

## โก ะัััััะน ััะฐัั (2 ะผะธะฝััั)

### ะจะฐะณ 1: ะกะบะพะฟะธััะนัะต ะบะพะฝัะธะณ

```bash
copy config_local.py.example config_local.py
```

ะะปะธ ะตัะปะธ ัะถะต ะตััั `config_local.py`, ะดะพะฑะฐะฒััะต ะฒ ะฝะตะณะพ:

```python
# Yandex Direct API
YANDEX_DIRECT_ENABLED = True
YANDEX_DIRECT_TOKEN = ""  # ะะพะปััะธะผ ะฐะฒัะพะผะฐัะธัะตัะบะธ
YANDEX_DIRECT_USE_SANDBOX = False
YANDEX_DIRECT_GEO_ID = 213  # ะะพัะบะฒะฐ

# ะะฐะฝะฝัะต ะฟัะธะปะพะถะตะฝะธั
YANDEX_DIRECT_CLIENT_ID = "2bce30a579f546e8ae1f530379caddcd"
YANDEX_DIRECT_CLIENT_SECRET = "3aac3ee9bbfc4fa8afd1f1857f27f284"
```

### ะจะฐะณ 2: ะะพะปััะธัะต ัะพะบะตะฝ

**ะะฐัะธะฐะฝั ะ: ะัะดะตะปัะฝัะผ ัะบัะธะฟัะพะผ (ัะตะบะพะผะตะฝะดัะตััั)**

```bash
python get_yandex_direct_token.py
```

**ะะฐัะธะฐะฝั ะ: ะัะธ ะฟะตัะฒะพะผ ะทะฐะฟััะบะต main.py**

```bash
python main.py semantika\ัะบัะด.csv
```

ะัะปะธ ัะพะบะตะฝะฐ ะฝะตั, ัะฒะธะดะธัะต:
```
โ๏ธ  YANDEX DIRECT: ะขะพะบะตะฝ ะฝะต ะฝะฐะนะดะตะฝ
======================================================================

ะะปั ะฟะพะปััะตะฝะธั ะดะฐะฝะฝัั ะธะท Yandex Direct API ะฝัะถะตะฝ OAuth ัะพะบะตะฝ.

ะะฐัะธะฐะฝัั:
  1. ะะพะปััะธัั ัะพะบะตะฝ ัะตะนัะฐั (ะพัะบัะพะตััั ะฑัะฐัะทะตั)
  2. ะัะพะฟัััะธัั (Yandex Direct ะฑัะดะตั ะพัะบะปััะตะฝ)
  3. ะะพะปััะธัั ะฟะพะทะถะต (ะทะฐะฟัััะธัะต: python get_yandex_direct_token.py)

ะัะฑะตัะธัะต (1/2/3): _
```

**ะงัะพ ะฟัะพะธะทะพะนะดะตั ะฟัะธ ะฒัะฑะพัะต "1":**
1. ะัะบัะพะตััั ะฑัะฐัะทะตั ั Yandex OAuth
2. ะั ะฝะฐะถะผะตัะต "ะะฐะทัะตัะธัั ะดะพัััะฟ"
3. ะกะบะพะฟะธััะตัะต ะบะพะด ะธะท ะฐะดัะตัะฝะพะน ัััะพะบะธ
4. ะขะพะบะตะฝ ะฐะฒัะพะผะฐัะธัะตัะบะธ ัะพััะฐะฝะธััั ะฒ `config_local.py`

**ะัะธะผะตั:**
```
======================================================================
ะะะขะะะะะะฆะะฏ ะ YANDEX DIRECT
======================================================================

1. ะกะตะนัะฐั ะพัะบัะพะตััั ะฑัะฐัะทะตั ั URL ะฐะฒัะพัะธะทะฐัะธะธ
   ะัะปะธ ะฝะต ะพัะบัะพะตััั, ัะบะพะฟะธััะนัะต ััั ัััะปะบั:

   https://oauth.yandex.ru/authorize?response_type=code&client_id=...

2. ะะฒัะพัะธะทัะนัะตัั ะธ ัะฐะทัะตัะธัะต ะดะพัััะฟ ะบ API
3. ะกะบะพะฟะธััะนัะต ะะะ ะธะท ะฐะดัะตัะฝะพะน ัััะพะบะธ ะฟะพัะปะต ?code=
   ะัะธะผะตั: https://oauth.yandex.ru/?code=1234567
   ะัะถะฝะพ ัะบะพะฟะธัะพะฒะฐัั: 1234567

ะะฒะตะดะธัะต ะบะพะด: _
```

### ะจะฐะณ 3: ะขะตัั

```bash
python test_yandex_direct_integration.py
```

**ะั ัะฒะธะดะธัะต:**
- โ ะะฐะฟัะพัั ะบ API
- โ ะะตะฐะปัะฝัะต ะดะฐะฝะฝัะต ะพ ะฟะพะบะฐะทะฐั ะธ CPC
- โ ะะฐััะตั KEI ะผะตััะธะบ

### ะจะฐะณ 4: ะะฐะฟััะบ ะพัะฝะพะฒะฝะพะณะพ ะฟะฐะนะฟะปะฐะนะฝะฐ

```bash
python main.py semantika\ัะบัะด.csv
```

**ะะฝัะตะณัะฐัะธั ะฐะฒัะพะผะฐัะธัะตัะบะฐั!** 

Yandex Direct ะดะฐะฝะฝัะต ะดะพะฑะฐะฒัััั:
- ะะพัะปะต ัะฐััะตัะฐ KEI ะผะตััะธะบ
- ะะตัะตะด ัะบัะฟะพััะพะผ ะฒ Excel
- ะ ะพัะดะตะปัะฝัั ะบะพะปะพะฝะบะฐั (`direct_*`)

## ๐ ะงัะพ ะฟะพะปััะธัะต ะฒ ัะตะทัะปััะฐัะฐั

### ะ CSV/Excel ะฟะพัะฒัััั ะฝะพะฒัะต ะบะพะปะพะฝะบะธ:

| ะะพะปะพะฝะบะฐ | ะะฟะธัะฐะฝะธะต |
|---------|----------|
| `direct_shows` | ะะพะบะฐะทั ะทะฐ 30 ะดะฝะตะน |
| `direct_clicks` | ะะปะธะบะธ |
| `direct_avg_cpc` | ะกัะตะดะฝะธะน CPC (ััะฑ) |
| `premium_ctr` | CTR ะฟัะตะผะธัะผ ะฟะพะทะธัะธะน (%) |
| `direct_competition` | ะะพะฝะบััะตะฝัะธั (low/medium/high) |
| `direct_recommended_cpc` | ะะตะบะพะผะตะฝะดัะตะผะฐั ััะฐะฒะบะฐ (ััะฑ) |
| `kei_direct_efficiency` | KEI ัััะตะบัะธะฒะฝะพััั |
| `kei_direct_quality` | KEI ะบะฐัะตััะฒะพ (0-100) |
| `kei_direct_profitability` | ะัะพะณะฝะพะท ะฟัะธะฑัะปะธ (ััะฑ) |

### ะ ะบะพะฝัะพะปะธ ัะฒะธะดะธัะต:

```
๐ฏ ะญะขะะ 7.5: ะะฑะพะณะฐัะตะฝะธะต ะดะฐะฝะฝัะผะธ Yandex Direct
--------------------------------------------------------------------------------
๐ง ะะตะณะธะพะฝ: 213 (213=ะะพัะบะฒะฐ)
๐ง ะะตะถะธะผ: Production
โณ ะะพะปััะตะฝะธะต ะดะฐะฝะฝัั ะดะปั 150 ะทะฐะฟัะพัะพะฒ...
   (ะธัะฟะพะปัะทัะตััั ะบัั, ะฟะพะฒัะพัะฝัะต ะทะฐะฟัะพัั ะฑัััััะต)
โ ะะฑะพะณะฐัะตะฝะพ ะทะฐะฟัะพัะพะฒ: 142 ะธะท 150
  ๐ ะกัะผะผะฐัะฝัะต ะฟะพะบะฐะทั: 125,430
  ๐ ะกัะผะผะฐัะฝัะต ะบะปะธะบะธ: 3,254
  ๐ ะกัะตะดะฝะธะน CPC: 87.50 ััะฑ

  ะะฐัะฟัะตะดะตะปะตะฝะธะต ะฟะพ ะบะพะฝะบััะตะฝัะธะธ:
    medium: 89 ะทะฐะฟัะพัะพะฒ (59.3%)
    high: 38 ะทะฐะฟัะพัะพะฒ (25.3%)
    low: 15 ะทะฐะฟัะพัะพะฒ (10.0%)

๐ ะะฐััะตั KEI ะผะตััะธะบ ั ะดะฐะฝะฝัะผะธ Direct...
  โ KEI Direct Efficiency
  โ KEI Direct Quality Score
  โ KEI Direct Profitability
```

## ๐ง ะะฐัััะพะนะบะธ

### ะะทะผะตะฝะธัั ัะตะณะธะพะฝ

```python
YANDEX_DIRECT_GEO_ID = 2  # ะกะฐะฝะบั-ะะตัะตัะฑััะณ
```

ะะพะฟัะปััะฝัะต ัะตะณะธะพะฝั:
- `213` - ะะพัะบะฒะฐ
- `2` - ะกะฐะฝะบั-ะะตัะตัะฑััะณ  
- `1` - ะะพัะบะฒะฐ ะธ ะพะฑะปะฐััั
- `225` - ะะพััะธั

### ะัะฟะพะปัะทะพะฒะฐัั Sandbox ะดะปั ัะตััะพะฒ

```python
YANDEX_DIRECT_USE_SANDBOX = True
```

ะ sandbox:
- โ ะะตะพะณัะฐะฝะธัะตะฝะฝัะต ะทะฐะฟัะพัั
- โ ะขะตััะพะฒัะต ะดะฐะฝะฝัะต
- โ ะะต ัะตะฐะปัะฝัะต ะฟะพะบะฐะทั/CPC

### ะัะบะปััะธัั ะธะฝัะตะณัะฐัะธั

```python
YANDEX_DIRECT_ENABLED = False
```

ะะฐะนะฟะปะฐะนะฝ ะฟัะพะดะพะปะถะธั ัะฐะฑะพัะฐัั ะฑะตะท Direct ะดะฐะฝะฝัั.

### ะะฐัััะพะธัั ะฟัะธะฑัะปัะฝะพััั

ะ `config_local.py` ะธะปะธ ัะตัะตะท ะฐัะณัะผะตะฝัั:

```python
# ะะฐัะธ ะฟะฐัะฐะผะตััั ะฑะธะทะฝะตัะฐ
AVG_CHECK = 8000  # ะกัะตะดะฝะธะน ัะตะบ ะฒ ััะฑะปัั
CONVERSION_RATE = 3.5  # ะะพะฝะฒะตััะธั ัะฐะนัะฐ ะฒ %
```

## ๐ ะัะพะฑะปะตะผั?

### "Client ID ะธ Secret ะพะฑัะทะฐัะตะปัะฝั"
โ ะะพะฑะฐะฒััะต ะฒ `config_local.py` (ัะผ. ะจะฐะณ 1)

### "ะัะธะฑะบะฐ ะฟะพะปััะตะฝะธั ัะพะบะตะฝะฐ: 400"
โ ะัะพะฒะตัััะต ััะพ ัะบะพะฟะธัะพะฒะฐะปะธ ะฒะตัั ะบะพะด ะธะท URL

### "API returned error"
โ ะฃะฑะตะดะธัะตัั ััะพ `YANDEX_DIRECT_USE_SANDBOX = False` ะดะปั production

### "ะะตั ะดะฐะฝะฝัั Direct (0 ะฟะพะบะฐะทะพะฒ)"
โ ะะฐะฟัะพัั ัะปะธัะบะพะผ ะฝะธะทะบะพัะฐััะพัะฝัะต ะธะปะธ ะดะปะธะฝะฝัะต (>6 ัะปะพะฒ)

## ๐ ะะพะบัะผะตะฝัะฐัะธั

- ๐ **ะญัะฐ ะธะฝััััะบัะธั** - ะฟะตัะฒัะน ะทะฐะฟััะบ
- ๐ **ะัััััะน ััะฐัั** - `docs/YANDEX_DIRECT_QUICKSTART.md`
- ๐ **ะะพะปะฝะพะต ััะบะพะฒะพะดััะฒะพ** - `docs/guides/YANDEX_DIRECT_INTEGRATION.md`
- ๐ **ะัะธะผะตัั ะบะพะดะฐ** - `example_yandex_direct_usage.py`

## โ ะะพัะพะฒะพ!

ะะพัะปะต ะฒัะฟะพะปะฝะตะฝะธั 3 ัะฐะณะพะฒ ั ะฒะฐั ะฑัะดะตั:
- โ ะะตะฐะปัะฝัะต ะดะฐะฝะฝัะต ะธะท Yandex Direct
- โ ะะฒัะพะผะฐัะธัะตัะบะพะต ะพะฑะพะณะฐัะตะฝะธะต ะฒ ะฟะฐะนะฟะปะฐะนะฝะต
- โ ะะฐััะธัะตะฝะฝัะต KEI ะผะตััะธะบะธ
- โ ะััะธัะพะฒะฐะฝะธะต (ะทะฐะฟัะพัั ะดะตะปะฐัััั 1 ัะฐะท ะฒ 7 ะดะฝะตะน)

**ะัะธััะฝะพะณะพ ะธัะฟะพะปัะทะพะฒะฐะฝะธั!** ๐

