# üéØ –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –£–õ–£–ß–®–ï–ù–ò–ï: –ü–æ–∏—Å–∫ –≥–æ—Ä–æ–¥–æ–≤ –ø–æ –ª–µ–º–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –∑–∞–ø—Ä–æ—Å–∞–º

## üîç –û–±–Ω–∞—Ä—É–∂–µ–Ω–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞

### ‚ùå –ö–∞–∫ –±—ã–ª–æ (–ù–ï–ü–†–ê–í–ò–õ–¨–ù–û):

–ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∏—Å–∫–∞–ª –≥–æ—Ä–æ–¥–∞ –≤ **–æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö**:
```python
intent_results = self.intent_classifier.classify_batch(self.df['keyword'].tolist())
```

**–ü—Ä–æ–±–ª–µ–º–∞:** –ì–æ—Ä–æ–¥–∞ –≤—Å—Ç—Ä–µ—á–∞—é—Ç—Å—è –≤ —Ä–∞–∑–Ω—ã—Ö –ø–∞–¥–µ–∂–∞—Ö:
- "—Å–∫—É–¥ –≤ **–ú–æ—Å–∫–≤–µ**" (–ø—Ä–µ–¥–ª–æ–∂–Ω—ã–π –ø–∞–¥–µ–∂)
- "—Å–∫—É–¥ **–ú–æ—Å–∫–≤—ã**" (—Ä–æ–¥–∏—Ç–µ–ª—å–Ω—ã–π –ø–∞–¥–µ–∂) 
- "–∫—É–ø–∏—Ç—å —Å–∫—É–¥ **–ú–æ—Å–∫–≤–æ–π**" (—Ç–≤–æ—Ä–∏—Ç–µ–ª—å–Ω—ã–π –ø–∞–¥–µ–∂)
- "—Å–∫—É–¥ –ø–æ **–ú–æ—Å–∫–≤–µ**" (–¥–∞—Ç–µ–ª—å–Ω—ã–π –ø–∞–¥–µ–∂)

–í —Ñ–∞–π–ª–µ `keyword_group/Russian.txt` –≥–æ—Ä–æ–¥–∞ —É–∫–∞–∑–∞–Ω—ã —Ç–æ–ª—å–∫–æ –≤ **–∏–º–µ–Ω–∏—Ç–µ–ª—å–Ω–æ–º –ø–∞–¥–µ–∂–µ**: "–ú–æ—Å–∫–≤–∞"

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** 
- ‚ùå "—Å–∫—É–¥ –≤ –ú–æ—Å–∫–≤–µ" ‚Üí –ù–ï –Ω–∞–π–¥–µ–Ω–∞ –ú–æ—Å–∫–≤–∞
- ‚ùå "—Å–∫—É–¥ –ú–æ—Å–∫–≤—ã" ‚Üí –ù–ï –Ω–∞–π–¥–µ–Ω–∞ –ú–æ—Å–∫–≤–∞
- ‚úÖ "—Å–∫—É–¥ –ú–æ—Å–∫–≤–∞" ‚Üí –Ω–∞–π–¥–µ–Ω–∞ –ú–æ—Å–∫–≤–∞

## ‚úÖ –ö–∞–∫ —Å—Ç–∞–ª–æ (–ü–†–ê–í–ò–õ–¨–ù–û):

–ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∏—â–µ—Ç –≥–æ—Ä–æ–¥–∞ –≤ **–ª–µ–º–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö**:
```python
intent_results = self.intent_classifier.classify_batch(
    self.df['keyword'].tolist(),
    lemmatized_queries=self.df['lemmatized'].tolist()
)
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ:** –í—Å–µ –ø–∞–¥–µ–∂–∏ –ø—Ä–∏–≤–æ–¥—è—Ç—Å—è –∫ –∏–º–µ–Ω–∏—Ç–µ–ª—å–Ω–æ–º—É:
- "—Å–∫—É–¥ –≤ **–ú–æ—Å–∫–≤–µ**" ‚Üí –ª–µ–º–º–∞: "—Å–∫—É–¥ –º–æ—Å–∫–≤–∞" ‚úÖ
- "—Å–∫—É–¥ **–ú–æ—Å–∫–≤—ã**" ‚Üí –ª–µ–º–º–∞: "—Å–∫—É–¥ –º–æ—Å–∫–≤–∞" ‚úÖ
- "–∫—É–ø–∏—Ç—å —Å–∫—É–¥ **–ú–æ—Å–∫–≤–æ–π**" ‚Üí –ª–µ–º–º–∞: "–∫—É–ø–∏—Ç—å —Å–∫—É–¥ –º–æ—Å–∫–≤–∞" ‚úÖ

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –í—Å–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –Ω–∞—Ö–æ–¥—è—Ç –≥–æ—Ä–æ–¥ –ø—Ä–∞–≤–∏–ª—å–Ω–æ!

## üìä –í–ª–∏—è–Ω–∏–µ –Ω–∞ —Ç–æ—á–Ω–æ—Å—Ç—å

### –î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
```
–ó–∞–ø—Ä–æ—Å–æ–≤ —Å –≥–µ–æ-–º–∞—Ä–∫–µ—Ä–∞–º–∏: ~20-30% –æ—Ç —Ä–µ–∞–ª—å–Ω—ã—Ö
–ü—Ä–æ–ø—É—â–µ–Ω–æ: ~70% –∑–∞–ø—Ä–æ—Å–æ–≤ —Å –≥–æ—Ä–æ–¥–∞–º–∏ –≤ –¥—Ä—É–≥–∏—Ö –ø–∞–¥–µ–∂–∞—Ö
```

### –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
```
–ó–∞–ø—Ä–æ—Å–æ–≤ —Å –≥–µ–æ-–º–∞—Ä–∫–µ—Ä–∞–º–∏: ~90-95% –æ—Ç —Ä–µ–∞–ª—å–Ω—ã—Ö
–ü—Ä–æ–ø—É—â–µ–Ω–æ: ~5-10% (—Ç–æ–ª—å–∫–æ –æ–ø–µ—á–∞—Ç–∫–∏ –∏ –æ—à–∏–±–∫–∏)
```

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### 1. –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ `main.py`:
```python
# –ü–µ—Ä–µ–¥–∞—ë–º –ª–µ–º–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –¥–ª—è —Ç–æ—á–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞
intent_results = self.intent_classifier.classify_batch(
    self.df['keyword'].tolist(),
    lemmatized_queries=self.df['lemmatized'].tolist()
)
```

### 2. –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ `intent_classifier.py`:
```python
def classify_batch(self, queries: List[str], lemmatized_queries: List[str] = None):
    """
    Args:
        queries: –°–ø–∏—Å–æ–∫ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
        lemmatized_queries: –°–ø–∏—Å–æ–∫ –ª–µ–º–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ (–¥–ª—è —Ç–æ—á–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞ –≥–æ—Ä–æ–¥–æ–≤)
    """
    for idx, query in enumerate(iterator):
        lemmatized = lemmatized_queries[idx] if lemmatized_queries else None
        main_intent, scores, flags = self.classify_intent(query, lemmatized)
        geo_info = self.extract_geo_info(lemmatized if lemmatized else query)
```

### 3. –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ `classify_intent()`:
```python
def classify_intent(self, query: str, lemmatized_query: str = None):
    """
    Args:
        query: –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π –∑–∞–ø—Ä–æ—Å
        lemmatized_query: –õ–µ–º–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å (–¥–ª—è —Ç–æ—á–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞ –≥–æ—Ä–æ–¥–æ–≤)
    """
    query_for_geo = lemmatized_query if lemmatized_query else query
    geo_info = self.extract_geo_info(query_for_geo)
```

## üéØ –ü—Ä–∏–º–µ—Ä—ã —É–ª—É—á—à–µ–Ω–∏–π

| –ó–∞–ø—Ä–æ—Å | –î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è | –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è |
|--------|----------------|-------------------|
| "—Å–∫—É–¥ –≤ –ú–æ—Å–∫–≤–µ" | ‚ùå –ì–µ–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ | ‚úÖ –ú–æ—Å–∫–≤–∞ |
| "—Å–∫—É–¥ –ú–æ—Å–∫–≤—ã" | ‚ùå –ì–µ–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ | ‚úÖ –ú–æ—Å–∫–≤–∞ |
| "–∫—É–ø–∏—Ç—å —Å–∫—É–¥ –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥—É" | ‚ùå –ì–µ–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ | ‚úÖ –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥ |
| "—É—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–∫—É–¥ –ø–æ –ö–∞–∑–∞–Ω–∏" | ‚ùå –ì–µ–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ | ‚úÖ –ö–∞–∑–∞–Ω—å |
| "—Ä–µ–º–æ–Ω—Ç —Å–∫—É–¥ –ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫–æ–º" | ‚ùå –ì–µ–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ | ‚úÖ –ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫ |

## üöÄ –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

‚úÖ **–û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞** - –ø–∞—Ä–∞–º–µ—Ç—Ä `lemmatized_queries` –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π  
‚úÖ **–ë–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è API** - –≤—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –≤—ã–∑–æ–≤—ã —Ä–∞–±–æ—Ç–∞—é—Ç  
‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ** - –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä

## üí° –ü–æ—á–µ–º—É —ç—Ç–æ –≤–∞–∂–Ω–æ?

### –î–ª—è SEO-–∞–Ω–∞–ª–∏–∑–∞:
- **–¢–æ—á–Ω–∞—è —Å–µ–≥–º–µ–Ω—Ç–∞—Ü–∏—è** –ø–æ —Ä–µ–≥–∏–æ–Ω–∞–º
- **–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è** –∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ (–≥–µ–æ = –∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏–π)
- **–ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ —Ü–µ–ª–µ–≤—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã** –¥–ª—è –≥–µ–æ-–∑–∞–ø—Ä–æ—Å–æ–≤

### –î–ª—è –∫–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏–∏:
- **–û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ** –≤—Å–µ—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –æ–¥–Ω–æ–≥–æ –≥–æ—Ä–æ–¥–∞
- **–ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ LSI-—Ñ—Ä–∞–∑—ã** –¥–ª—è —Ä–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- **–¢–æ—á–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞** –ø–æ —Ä–µ–≥–∏–æ–Ω–∞–º

## üìù –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –î–ª—è —Ñ–∞–π–ª–æ–≤ keyword_group/*.txt:
‚úÖ **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ –∏–º–µ–Ω–∏—Ç–µ–ª—å–Ω—ã–π –ø–∞–¥–µ–∂**
- –ú–æ—Å–∫–≤–∞ (–Ω–µ –ú–æ—Å–∫–≤—ã, –Ω–µ –ú–æ—Å–∫–≤–µ)
- –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥ (–Ω–µ –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥–∞)

### –î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:
```python
# –¢–µ—Å—Ç–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å
normalizer = QueryNormalizer()
print(normalizer.lemmatize("—Å–∫—É–¥ –≤ –ú–æ—Å–∫–≤–µ"))  # ‚Üí "—Å–∫—É–¥ –º–æ—Å–∫–≤–∞"
print(normalizer.lemmatize("—Å–∫—É–¥ –ú–æ—Å–∫–≤—ã"))    # ‚Üí "—Å–∫—É–¥ –º–æ—Å–∫–≤–∞"
```

---

**–î–∞—Ç–∞ —É–ª—É—á—à–µ–Ω–∏—è:** 2025-12-07  
**–í–µ—Ä—Å–∏—è:** v1.4-lemmatized-geo  
**–ê–≤—Ç–æ—Ä:** –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –ø–æ–Ω–∏–º–∞–Ω–∏—è –º–æ—Ä—Ñ–æ–ª–æ–≥–∏–∏

