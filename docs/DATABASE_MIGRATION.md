# –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö –≤ serp_data.db

## ‚úÖ –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å

### –†–∞–Ω—å—à–µ ‚ùå

**–î–≤–µ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –ë–î:**
```
output/
‚îú‚îÄ‚îÄ serp_data.db              # SERP –¥–∞–Ω–Ω—ã–µ
‚îî‚îÄ‚îÄ global_domain_stats.db    # –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –¥–æ–º–µ–Ω–æ–≤ –¥–ª—è –≥—Ä—É–ø–ø
```

### –¢–µ–ø–µ—Ä—å ‚úÖ

**–û–¥–Ω–∞ –µ–¥–∏–Ω–∞—è –ë–î:**
```
output/
‚îî‚îÄ‚îÄ serp_data.db              # –í—Å–µ –¥–∞–Ω–Ω—ã–µ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ
```

## üéØ –ó–∞—á–µ–º —ç—Ç–æ –Ω—É–∂–Ω–æ

‚úÖ **–ü—Ä–æ—â–µ —É–ø—Ä–∞–≤–ª—è—Ç—å**
- –û–¥–Ω–∞ –ë–î –≤–º–µ—Å—Ç–æ –¥–≤—É—Ö
- –ü—Ä–æ—â–µ –¥–µ–ª–∞—Ç—å –±—ç–∫–∞–ø—ã
- –ú–µ–Ω—å—à–µ –ø—É—Ç–∞–Ω–∏—Ü—ã

‚úÖ **–ë—ã—Å—Ç—Ä–µ–µ —Ä–∞–±–æ—Ç–∞–µ—Ç**
- –ù–µ—Ç –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –º–µ–∂–¥—É –ë–î
- –ú–µ–Ω—å—à–µ –æ—Ç–∫—Ä—ã—Ç—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
- –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–µ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ

‚úÖ **–õ–æ–≥–∏—á–Ω–µ–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞**
- SERP –¥–∞–Ω–Ω—ã–µ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –¥–æ–º–µ–Ω–æ–≤ —Å–≤—è–∑–∞–Ω—ã
- –í—Å–µ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ

## üìä –ù–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü

### output/serp_data.db

#### 1. SERP –¥–∞–Ω–Ω—ã–µ (–∫–∞–∫ –±—ã–ª–æ):
- `serp_results` - –ó–∞–ø—Ä–æ—Å—ã –∏ XML –æ—Ç–≤–µ—Ç—ã
- `serp_documents` - –î–æ–∫—É–º–µ–Ω—Ç—ã SERP
- `serp_lsi_phrases` - LSI —Ñ—Ä–∞–∑—ã
- `domain_stats` - –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –¥–æ–º–µ–Ω–æ–≤ (—Å—Ç–∞—Ä–∞—è —Ç–∞–±–ª–∏—Ü–∞)

#### 2. –ú—É–ª—å—Ç–∏-–≥—Ä—É–ø–ø—ã (NEW!):
- `domain_group_stats` - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –¥–æ–º–µ–Ω–æ–≤ **–ø–æ –≥—Ä—É–ø–ø–∞–º**
- `domain_global_stats` - –ê–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ **–ø–æ –≤—Å–µ–º –≥—Ä—É–ø–ø–∞–º**

### –¢–∞–±–ª–∏—Ü–∞: domain_group_stats

**–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –¥–æ–º–µ–Ω–æ–≤ –≤ —Ä–∞–∑—Ä–µ–∑–µ –≥—Ä—É–ø–ø –∑–∞–ø—Ä–æ—Å–æ–≤**

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| id | INTEGER | –ê–≤—Ç–æ–∏–Ω–∫—Ä–µ–º–µ–Ω—Ç |
| domain | TEXT | –î–æ–º–µ–Ω (example.com) |
| query_group | TEXT | –ù–∞–∑–≤–∞–Ω–∏–µ –≥—Ä—É–ø–ø—ã |
| commercial_count | INTEGER | –ö–æ–º–º–µ—Ä—á–µ—Å–∫–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ |
| informational_count | INTEGER | –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ |
| total_queries | INTEGER | –í—Å–µ–≥–æ –∑–∞–ø—Ä–æ—Å–æ–≤ |
| first_seen | TIMESTAMP | –ü–µ—Ä–≤–æ–µ –ø–æ—è–≤–ª–µ–Ω–∏–µ |
| last_updated | TIMESTAMP | –ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ |

**–£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∫–ª—é—á:** `(domain, query_group)`

**–ü—Ä–∏–º–µ—Ä:**
```sql
domain          | query_group      | commercial | informational | total
ozon.ru         | —Å–∫—É–¥            | 150        | 10            | 160
ozon.ru         | –≤–∏–¥–µ–æ–Ω–∞–±–ª—é–¥–µ–Ω–∏–µ | 300        | 50            | 350
wildberries.ru  | —Å–∫—É–¥            | 200        | 5             | 205
```

### –¢–∞–±–ª–∏—Ü–∞: domain_global_stats

**–ê–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –≤—Å–µ–º –≥—Ä—É–ø–ø–∞–º**

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| domain | TEXT | –î–æ–º–µ–Ω (PRIMARY KEY) |
| total_commercial | INTEGER | –í—Å–µ–≥–æ –∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏—Ö |
| total_informational | INTEGER | –í—Å–µ–≥–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã—Ö |
| total_queries | INTEGER | –í—Å–µ–≥–æ –∑–∞–ø—Ä–æ—Å–æ–≤ |
| groups_count | INTEGER | –í —Å–∫–æ–ª—å–∫–∏—Ö –≥—Ä—É–ø–ø–∞—Ö –≤—Å—Ç—Ä–µ—á–∞–µ—Ç—Å—è |
| is_commercial | BOOLEAN | –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è (0/1) |
| commercial_ratio | REAL | –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç (0.0-1.0) |
| confidence_score | REAL | –£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å (0.0-1.0) |
| last_updated | TIMESTAMP | –ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ |

**–ü—Ä–∏–º–µ—Ä:**
```sql
domain          | total_commercial | total_info | total | groups | is_commercial | ratio
ozon.ru         | 450              | 60         | 510   | 2      | 1             | 0.88
wildberries.ru  | 200              | 5          | 205   | 1      | 1             | 0.98
wikipedia.org   | 50               | 800        | 850   | 3      | 0             | 0.06
```

## üîÑ –ú–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –º–∏–≥—Ä–∞—Ü–∏—è

–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å —Å—Ç–∞—Ä–∞—è `global_domain_stats.db`:

```bash
python migrate_domain_stats.py
```

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç:**
1. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ —Å—Ç–∞—Ä–æ–π –ë–î
2. –ü–µ—Ä–µ–Ω–æ—Å–∏—Ç `domain_stats` ‚Üí `domain_group_stats`
3. –ü–µ—Ä–µ–Ω–æ—Å–∏—Ç `domain_aggregated_stats` ‚Üí `domain_global_stats`
4. –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è
5. –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É

**–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:**
```
üîÑ –ú–ò–ì–†–ê–¶–ò–Ø –î–ê–ù–ù–´–• –î–û–ú–ï–ù–û–í

–ò–∑: output/global_domain_stats.db
–í:  output/serp_data.db

üìä –ú–∏–≥—Ä–∞—Ü–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –¥–æ–º–µ–Ω–æ–≤ –ø–æ –≥—Ä—É–ø–ø–∞–º...
   –ù–∞–π–¥–µ–Ω–æ –∑–∞–ø–∏—Å–µ–π: 1250
   ‚úì –ü–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ: 1250 –∑–∞–ø–∏—Å–µ–π

üìä –ú–∏–≥—Ä–∞—Ü–∏—è –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏...
   –ù–∞–π–¥–µ–Ω–æ –∑–∞–ø–∏—Å–µ–π: 850
   ‚úì –ü–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ: 850 –∑–∞–ø–∏—Å–µ–π

‚úÖ –ú–ò–ì–†–ê–¶–ò–Ø –ó–ê–í–ï–†–®–ï–ù–ê

üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –Ω–æ–≤–æ–π –ë–î:
   domain_group_stats: 1250 –∑–∞–ø–∏—Å–µ–π
   domain_global_stats: 850 –∑–∞–ø–∏—Å–µ–π

üí° –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—É—é –ë–î:
   del output\global_domain_stats.db
```

### –†—É—á–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ:

```sql
-- –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —Å—Ç–∞—Ä–æ–π –ë–î
ATTACH DATABASE 'output/global_domain_stats.db' AS old_db;

-- –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ –¥–∞–Ω–Ω—ã–µ
INSERT OR REPLACE INTO domain_group_stats
SELECT NULL, domain, query_group, commercial_count, 
       informational_count, total_queries, first_seen, last_updated
FROM old_db.domain_stats;

INSERT OR REPLACE INTO domain_global_stats
SELECT * FROM old_db.domain_aggregated_stats;

-- –û—Ç–∫–ª—é—á–∏—Ç—å —Å—Ç–∞—Ä—É—é –ë–î
DETACH DATABASE old_db;
```

## üîß –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ

### group_database.py

**–ò–∑–º–µ–Ω–µ–Ω –ø—É—Ç—å –∫ –ë–î:**
```python
# –ë—ã–ª–æ
GLOBAL_DB_PATH = Path("output/global_domain_stats.db")

# –°—Ç–∞–ª–æ
GLOBAL_DB_PATH = Path("output/serp_data.db")
```

**–ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω—ã —Ç–∞–±–ª–∏—Ü—ã:**
```python
# –ë—ã–ª–æ
CREATE TABLE domain_stats ...
CREATE TABLE domain_aggregated_stats ...

# –°—Ç–∞–ª–æ
CREATE TABLE domain_group_stats ...      # –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –≥—Ä—É–ø–ø–∞–º
CREATE TABLE domain_global_stats ...     # –ê–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
```

### manage_groups.py

–û–±–Ω–æ–≤–ª–µ–Ω—ã –≤—Å–µ SQL –∑–∞–ø—Ä–æ—Å—ã:
```python
# –ë—ã–ª–æ
SELECT * FROM domain_aggregated_stats

# –°—Ç–∞–ª–æ
SELECT * FROM domain_global_stats
```

### test_groups_system.py

–û–±–Ω–æ–≤–ª–µ–Ω—ã —Ç–µ—Å—Ç—ã:
```python
# –ë—ã–ª–æ
cursor.execute("SELECT COUNT(*) FROM domain_aggregated_stats")

# –°—Ç–∞–ª–æ
cursor.execute("SELECT COUNT(*) FROM domain_global_stats")
```

## üìù –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

```bash
# –ì–ª–æ–±–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
python manage_groups.py stats
```

**–í—ã–≤–æ–¥:**
```
üìä –ì–ª–æ–±–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –¥–æ–º–µ–Ω–æ–≤

–í—Å–µ–≥–æ –¥–æ–º–µ–Ω–æ–≤: 850
–ö–æ–º–º–µ—Ä—á–µ—Å–∫–∏—Ö: 450
–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã—Ö: 400

–¢–æ–ø-10 –∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏—Ö –¥–æ–º–µ–Ω–æ–≤:
  ozon.ru                         510 –∑–∞–ø—Ä–æ—Å–æ–≤,  88.2% –∫–æ–º–º–µ—Ä—Ü., 2 –≥—Ä—É–ø–ø
  wildberries.ru                  205 –∑–∞–ø—Ä–æ—Å–æ–≤,  97.6% –∫–æ–º–º–µ—Ä—Ü., 1 –≥—Ä—É–ø–ø
  ...
```

### –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –¥–æ–º–µ–Ω–µ

```bash
python manage_groups.py domain ozon.ru
```

**–í—ã–≤–æ–¥:**
```
üìä –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –¥–æ–º–µ–Ω–µ: ozon.ru

–ê–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:
  –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è: –ö–æ–º–º–µ—Ä—á–µ—Å–∫–∏–π
  –ö–æ–º–º–µ—Ä—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è: 88.2%
  Confidence: 0.85
  –í—Å–µ–≥–æ –∑–∞–ø—Ä–æ—Å–æ–≤: 510
  –ö–æ–º–º–µ—Ä—á–µ—Å–∫–∏—Ö: 450
  –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã—Ö: 60
  –ì—Ä—É–ø–ø: 2

–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –≥—Ä—É–ø–ø–∞–º:
  –≤–∏–¥–µ–æ–Ω–∞–±–ª—é–¥–µ–Ω–∏–µ       350 –∑–∞–ø—Ä–æ—Å–æ–≤ (–ö: 300, –ò: 50)
  —Å–∫—É–¥                  160 –∑–∞–ø—Ä–æ—Å–æ–≤ (–ö: 150, –ò: 10)
```

### SQL –∑–∞–ø—Ä–æ—Å—ã

```sql
-- –í—Å–µ –¥–æ–º–µ–Ω—ã –≤ –≥—Ä—É–ø–ø–µ "—Å–∫—É–¥"
SELECT * FROM domain_group_stats
WHERE query_group = '—Å–∫—É–¥'
ORDER BY total_queries DESC;

-- –¢–æ–ø –∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏—Ö –¥–æ–º–µ–Ω–æ–≤
SELECT * FROM domain_global_stats
WHERE is_commercial = 1
ORDER BY total_queries DESC
LIMIT 20;

-- –î–æ–º–µ–Ω—ã –≤—Å—Ç—Ä–µ—á–∞—é—â–∏–µ—Å—è –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –≥—Ä—É–ø–ø–∞—Ö
SELECT * FROM domain_global_stats
WHERE groups_count > 1
ORDER BY groups_count DESC;
```

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã

### 1. –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

‚úÖ –°—Ç–∞—Ä–∞—è —Ç–∞–±–ª–∏—Ü–∞ `domain_stats` —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞
- –°–æ–∑–¥–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ `create_domain_stats_table.py`
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ –¥–æ–º–µ–Ω–æ–≤
- –ù–ï —Å–≤—è–∑–∞–Ω–∞ —Å –º—É–ª—å—Ç–∏-–≥—Ä—É–ø–ø–∞–º–∏

### 2. –ù–µ –ø—É—Ç–∞—Ç—å —Ç–∞–±–ª–∏—Ü—ã

```
domain_stats          # –°—Ç–∞—Ä–∞—è —Ç–∞–±–ª–∏—Ü–∞ (–∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è)
domain_group_stats    # –ù–æ–≤–∞—è (—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –≥—Ä—É–ø–ø–∞–º)
domain_global_stats   # –ù–æ–≤–∞—è (–∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω–∞—è)
```

### 3. –ì—Ä—É–ø–ø—ã –∏–º–µ—é—Ç —Å–≤–æ–∏ –ë–î

```
output/groups/—Å–∫—É–¥/serp_data.db          # –ë–î –≥—Ä—É–ø–ø—ã "—Å–∫—É–¥"
output/groups/–≤–∏–¥–µ–æ–Ω–∞–±–ª—é–¥–µ–Ω–∏–µ/serp_data.db  # –ë–î –≥—Ä—É–ø–ø—ã "–≤–∏–¥–µ–æ–Ω–∞–±–ª—é–¥–µ–Ω–∏–µ"
output/serp_data.db                      # –û–±—â–∞—è –ë–î
```

**–í –ë–î –≥—Ä—É–ø–ø—ã:**
- SERP —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–æ–ª—å–∫–æ —ç—Ç–æ–π –≥—Ä—É–ø–ø—ã

**–í –æ–±—â–µ–π –ë–î:**
- –ê–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –≤—Å–µ–º –≥—Ä—É–ø–ø–∞–º
- –¢–∞–±–ª–∏—Ü—ã `domain_group_stats` –∏ `domain_global_stats`

## üöÄ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –µ–¥–∏–Ω–æ–π –ë–î

**–°–∫–æ—Ä–æ—Å—Ç—å:**
- –û—Ç–∫—Ä—ã—Ç–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è: –±—ã–ª–æ 2 √ó 10ms ‚Üí —Å—Ç–∞–ª–æ 1 √ó 10ms
- –ó–∞–ø—Ä–æ—Å—ã: –Ω–µ—Ç –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –º–µ–∂–¥—É –ë–î
- –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏: –∞—Ç–æ–º–∞—Ä–Ω–æ—Å—Ç—å –≤ –æ–¥–Ω–æ–π –ë–î

**–ü–∞–º—è—Ç—å:**
- –û–¥–Ω–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –≤–º–µ—Å—Ç–æ –¥–≤—É—Ö
- –û–¥–∏–Ω –∫—ç—à –≤–º–µ—Å—Ç–æ –¥–≤—É—Ö
- –ú–µ–Ω—å—à–µ –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä–æ–≤ —Ñ–∞–π–ª–æ–≤

### –†–∞–∑–º–µ—Ä –ë–î

**–¢–∏–ø–∏—á–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã:**
```
serp_data.db (4 –≥—Ä—É–ø–ø—ã √ó 1000 –∑–∞–ø—Ä–æ—Å–æ–≤):
- serp_results: ~100 MB
- serp_documents: ~50 MB
- domain_group_stats: ~1 MB
- domain_global_stats: ~0.5 MB
–ò—Ç–æ–≥–æ: ~150 MB
```

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –º–∏–≥—Ä–∞—Ü–∏–∏

- [ ] –ó–∞–ø—É—Å—Ç–∏—Ç—å `python migrate_domain_stats.py`
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å `python manage_groups.py stats`
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å `python manage_groups.py domain ozon.ru`
- [ ] –£–¥–∞–ª–∏—Ç—å `output/global_domain_stats.db`
- [ ] –û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –ø—Ä–æ–µ–∫—Ç–∞ (–µ—Å–ª–∏ –µ—Å—Ç—å)
- [ ] –û–±–Ω–æ–≤–∏—Ç—å —Å–∫—Ä–∏–ø—Ç—ã –±—ç–∫–∞–ø–∞ (–µ—Å–ª–∏ –µ—Å—Ç—å)

## üìö –°–º. —Ç–∞–∫–∂–µ

- [GROUPS_REFERENCE.md](GROUPS_REFERENCE.md) - –°–ø—Ä–∞–≤–∫–∞ –ø–æ –≥—Ä—É–ø–ø–∞–º
- [MULTI_GROUP_SYSTEM.md](guides/MULTI_GROUP_SYSTEM.md) - –°–∏—Å—Ç–µ–º–∞ –≥—Ä—É–ø–ø
- [migrate_domain_stats.py](../migrate_domain_stats.py) - –°–∫—Ä–∏–ø—Ç –º–∏–≥—Ä–∞—Ü–∏–∏

---

**–í–µ—Ä—Å–∏—è:** 1.0  
**–î–∞—Ç–∞:** –î–µ–∫–∞–±—Ä—å 2025  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ

